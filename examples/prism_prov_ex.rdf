<?xml version="1.0"?>

<!DOCTYPE rdf:RDF [
    <!ENTITY prov "http://www.w3.org/ns/prov#" >
    <!ENTITY owl "http://www.w3.org/2002/07/owl#" >
    <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
    <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
    <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
]>

<rdf:RDF xmlns="http://gstore.unm.edu/elseweb"
    xml:base="http://gstore.unm.edu/elseweb"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:prov="http://www.w3.org/ns/prov#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
    <owl:Ontology rdf:about="http://gstore.unm.edu/elseweb"/>
    
    <!-- 
example prism workflow for this document:
    
    1. download prism ascii raster
    2. convert ascii to tif
    3. reproject tif
    5. publish to gstore
  
accessing the wcs service would then be part of the prov generated by utep  

the triplets:

     prism ascii: initial file
     
     local prism -> wasGeneratedBy -> downloadFromOSU
     
     downloadFromOSU -> used -> curl
     
     prism tif -> wasGeneratedBy -> convertAsciiToTif
     
     convertAsciiToTif -> wasAssociatedWith -> gdal_translate
     
     reprojected prism tif -> wasGeneratedBy -> Reproject
     
     Reproject -> wasAssociatedWith -> gdalwarp
     
     Publish -> wasAssociatedWith -> GSTORE
     
     Publish -> used -> reprojected prism tif
     
     prism wms -> wasGeneratedBy -> Publish
    
-->
    
    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Object Properties
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->
    
    
    
    
    <!-- http://www.w3.org/ns/prov#used -->
    
    <owl:ObjectProperty rdf:about="&prov;used"/>
    
    
    
    <!-- http://www.w3.org/ns/prov#wasAssociatedWith -->
    
    <owl:ObjectProperty rdf:about="&prov;wasAssociatedWith"/>
    
    
    
    <!-- http://www.w3.org/ns/prov#wasGeneratedBy -->
    
    <owl:ObjectProperty rdf:about="&prov;wasGeneratedBy"/>
    
    
    
    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Classes
    //
    ///////////////////////////////////////////////////////////////////////////////////////
     -->
    
    
    
    
    <!-- http://www.w3.org/ns/dcat#Dataset -->
    
    <owl:Class rdf:about="http://www.w3.org/ns/dcat#Dataset"/>
    
    
    
    <!-- http://www.w3.org/ns/prov#Activity -->
    
    <owl:Class rdf:about="&prov;Activity"/>
    
    
    
    <!-- http://www.w3.org/ns/prov#Entity -->
    
    <owl:Class rdf:about="&prov;Entity"/>
    
    
    
    <!-- http://www.w3.org/ns/prov#SoftwareAgent -->
    
    <owl:Class rdf:about="&prov;SoftwareAgent"/>
    
    <!-- 
    ///////////////////////////////////////////////////////////////////////////////////////
    //
    // Individuals
    //
    ///////////////////////////////////////////////////////////////////////////////////////
    -->
    
    <!-- SOFTWARE AGENTS -->
    
    <!-- downloader -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/curl">
        <rdf:type rdf:resource="&prov;SoftwareAgent"/>
    </owl:NamedIndividual>
    
    <!-- reproject -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/gdalwarp">
        <rdf:type rdf:resource="&prov;SoftwareAgent"/>
    </owl:NamedIndividual>
    
    <!-- convert to geotiff -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/gdal_translate">
        <rdf:type rdf:resource="&prov;SoftwareAgent"/>
    </owl:NamedIndividual>
    
    <!-- publish to gstore (automagical wcs publication) -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/GSTORE">
        <rdf:type rdf:resource="&prov;SoftwareAgent"/>
    </owl:NamedIndividual>
    
    <!-- ENTITIES -->
    
    <!-- the remote prism ascii (bad url - osu is removing ftp access for the data, apparently) -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/?url=http://www.prism.oregonstate.edu/PRISM_ppt_stable_4kmM2_201301_asc.asc">
        <rdf:type rdf:resource="&prov;Entity"/>
        <rdf:type rdf:resource="http://www.w3.org/ns/dcat#Dataset"/>
    </owl:NamedIndividual>
    
    <!-- the local prism ascii -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/PRISM_ppt_stable_4kmM2_201301_asc.asc">
        <rdf:type rdf:resource="&prov;Entity"/>
        <rdf:type rdf:resource="http://www.w3.org/ns/dcat#Dataset"/>
        <prov:wasGeneratedBy rdf:resource="http://gstore.unm.edu/elseweb/downloadFromOSU#PRISM_ppt_stable_4kmM2_201301_asc.asc"/>
    </owl:NamedIndividual>

    <!-- local geotiff -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/PRISM_ppt_stable_4kmM2_20130.tif">
        <rdf:type rdf:resource="&prov;Entity"/>
        <rdf:type rdf:resource="http://www.w3.org/ns/dcat#Dataset"/>
        <prov:wasGeneratedBy rdf:resource="http://gstore.unm.edu/elseweb/convertAsciiToTif"/>
    </owl:NamedIndividual>
    
    <!-- reproject -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/PRISM_ppt_stable_4kmM2_20130_4326.tif">
        <rdf:type rdf:resource="&prov;Entity"/>
        <rdf:type rdf:resource="http://www.w3.org/ns/dcat#Dataset"/>
        <prov:wasGeneratedBy rdf:resource="http://gstore.unm.edu/elseweb/Reproject"/>
    </owl:NamedIndividual>
    
    <!-- publish to gstore -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/04159323-f4db-4d53-8842-d42e430c5cb6">
        <rdf:type rdf:resource="&prov;Entity"/>
        <rdf:type rdf:resource="http://www.w3.org/ns/dcat#Dataset"/>
        <prov:wasGeneratedBy rdf:resource="http://gstore.unm.edu/elseweb/Publish"/>
    </owl:NamedIndividual>
    
    <!-- ACTIVITIES -->
    
    <!-- download the prism from osu -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/downloadFromOSU#PRISM_ppt_stable_4kmM2_201301_asc.asc">
        <rdf:type rdf:resource="&prov;Activity"/>
        <prov:wasAssociatedWith rdf:resource="http://gstore.unm.edu/elseweb/curl"/>
        <prov:used rdf:resource="http://gstore.unm.edu/elseweb/?url=http://www.prism.oregonstate.edu/PRISM_ppt_stable_4kmM2_201301_asc.asc"/>
    </owl:NamedIndividual>
    
    <!-- convert ascii to geotiff -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/convertAsciiToTif">
        <rdf:type rdf:resource="&prov;Activity"/>
        <prov:wasAssociatedWith rdf:resource="http://gstore.unm.edu/elseweb/gdal_translate"/>
        <prov:used rdf:resource="http://gstore.unm.edu/elseweb/?url=http://www.prism.oregonstate.edu/PRISM_ppt_stable_4kmM2_201301_asc.asc"/>
    </owl:NamedIndividual>
    
    <!-- reproject geotiff -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/Reproject">
        <rdf:type rdf:resource="&prov;Activity"/>
        <prov:wasAssociatedWith rdf:resource="http://gstore.unm.edu/elseweb/gdalwarp"/>
        <prov:used rdf:resource="http://gstore.unm.edu/elseweb/PRISM_ppt_stable_4kmM2_201301.tif"/>
    </owl:NamedIndividual>
    
    <!-- publish wcs -->
    <owl:NamedIndividual rdf:about="http://gstore.unm.edu/elseweb/Publish">
        <rdf:type rdf:resource="&prov;Activity"/>
        <prov:wasAssociatedWith rdf:resource="http://gstore.unm.edu/elseweb/GSTORE"/>
        <prov:used rdf:resource="http://gstore.unm.edu/elseweb/PRISM_ppt_stable_4kmM2_201301_4326.tif"/>
    </owl:NamedIndividual>
</rdf:RDF>    












